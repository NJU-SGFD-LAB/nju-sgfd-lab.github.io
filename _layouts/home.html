---
layout: base
---

<div class="home">

  {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  <!-- 图片展示 -->
  <img src="{{ '/assets/images/home/background.jpg' | relative_url }}" alt="实验室背景图" class="home-background">


  {{ content }}

  {% comment %}
  根据当前页面语言筛选 posts/news
  page.lang 需要在 index.md 或 en/index.md 中定义为 "zh" 或 "en"
  {% endcomment %}

  {% assign news_posts = site.posts | where: "lang", page.lang | sort: "date" | reverse %}

  {%- if news_posts.size > 0 -%}
    <h2 class="post-list-heading">
      {% if page.lang == "zh" %}新闻动态{% else %}News{% endif %}
    </h2>

    <ul class="post-list">
      {%- assign date_format = site.minima.date_format | default: "%Y-%m-%d" -%}
      {%- for post in news_posts limit:3 -%}
      <li>
        <span class="post-meta">{{ post.date | date: date_format }}</span>
        <h3>
          <a class="post-link" href="{{ post.url | relative_url }}">
            {{ post.title | escape }}
          </a>
        </h3>
        {%- if site.minima.show_excerpts -%}
          {{ post.excerpt }}
        {%- endif -%}
      </li>
      {%- endfor -%}
    </ul>

    {%- if news_posts.size > 3 -%}
      <div class="more-news">
        <a href="{% if page.lang == 'zh' %}/news{% else %}/en/news{% endif %}" class="button">
          {% if page.lang == 'zh' %}更多新闻{% else %}More News{% endif %}
        </a>
      </div>
    {%- endif -%}

    {% comment %}
    如果你同时使用分页，可以保留原有分页逻辑，
    这里只显示首页最新 3 条新闻
    {% endcomment %}

  {%- endif -%}

</div>
